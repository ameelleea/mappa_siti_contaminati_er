<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Siti Contaminati Emilia-Romagna</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
  <!--<link rel="stylesheet" href="reset.css"/>-->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
      <img src="img/marchio_rer.png" alt="Regione Emilia-Romagna" height="60px">
      <h1>Mappa dei siti contaminati</h1>
  </header>

  <div class="options">
    <button name='home' onclick="mostraSezione('default')" style="text-decoration: underline;">Home</button>
    <button name='cerca' onclick="mostraSezione('cerca')">Cerca</button>
    <button name='filters' onclick="mostraSezione('filters')">Filtri</button>
    <button name='aggiungiSito' onclick="mostraSezione('aggiungiSito')">Aggiungi sito</button>
  </div>

  <section id="default" class="attiva">
    <div id="content" class="card">
      <div>
        <b>Numero totale dei siti contaminati:</b>
      </div>
      <div>
        <b>Siti bonificati:</b>
      </div>
      <div>
        <b>Siti messi in sicurezza:</b>
      </div>
    </div>
  </section>

  <section id="cerca">
    <button class="chiudi" onclick="mostraSezione('default')">X</button>
    <h3>Cerca per codice:</h3>
    <form class="card flex-clmn">
      <input type="text" name="codice" placeholder="Inserisci codice...">
      <button type="submit">Cerca</button>
    </form>
  </section>

  <section id="filters">
    <button class="chiudi" onclick="mostraSezione('default')">X</button>
    <h3>Filtri</h3>
    <div class="card">
      <div class="responsive-grid">
          <div class="flex-clmn">
            <label for="provincia">Provincia:</label>
            <select class="provincia" id="provincia"></select>
          </div>

          <div class="flex-clmn comune-group" style="display: none;">
            <label for="comune">Comune:</label>
            <select id="comune"></select>
          </div>

        <div id="filters-buttons">
          <button id="more-filters">Più filtri</button>
          <button id="reset-filters">Resetta</button>
        </div>
      </div>  

      <div id="hidden-items" class="responsive-grid" >
        <div class="flex-clmn">
          <label for="messa_sicurezza_emergenza">Messa in sicurezza d'emergenza:</label>
          <select id="messa_sicurezza_emergenza"></select>
        </div>

        <div class="flex-clmn">
          <label for="messa_sicurezza_operativa">Messa in sicurezza operativa:</label>
          <select id="messa_sicurezza_operativa"></select>
        </div>

        <div class="flex-clmn">
          <label for="messa_sicurezza_permanenete">Messa in sicurezza permanente:</label>
          <select id="messa_sicurezza_permanenete"></select>
          </label>
        </div>

        <div class="flex-clmn">
          <label for="bonifica">Bonifica e ripristino ambientale:</label>
          <select id="bonifica"></select>
        </div>

        <div class="flex-clmn">
          <label for="bonifica_sicurezza">Bonifica e ripristino con misure di sicurezza:</label>
          <select id="bonifica_sicurezza"></select>
        </div>
      </div> 
    </div>   
  </section>

  <section id="aggiungiSito">
    <button class="chiudi" onclick="mostraSezione('default')">X</button>
    <h3>Aggiungi un nuovo sito alla mappa:</h3>
    <form class="flex-clmn card">
      <div class="responsive-grid"> 
        <div class="flex-clmn">
          <label for="provincia-agg">Provincia:</label>
          <select class="aggiungi provincia" id="provincia-agg" name="provincia" required></select>
        </div>
        <div class="flex-clmn">
          <label for="comune">Comune:</label>
          <select name="comune" id="comune-agg" required></select>
        </div>
        <div class="flex-clmn">
          <label for="indirizzo">Indirizzo:</label>
          <input type="text" name="indirizzo" placeholder="Indirizzo" required> 
        </div>
        <div class="flex-clmn">
          <label for="attività">Attività:</label>
          <input type="text" name="attività" placeholder="Attività" required>
        </div>
        <div class="flex-clmn">
          <label for="codice">Codice:</label>
          <input type="text" name="codice" placeholder="Codice" required>
        </div>
      </div>
      <div class="responsive-grid">
        <div class="flex-clmn">
          <label for="Longitudine">Longitudine:</label>
          <input type="text" name="Longitudine" placeholder="Longitudine">
        </div>
        <div class="flex-clmn">
          <label for="Latitudine">Latitudine:</label>
          <input type="text" name="Latitudine" placeholder="Latitudine">
        </div>
      </div>

      <input type="hidden" name="messa_sicurezza_emergenza" value="No">
      <input type="hidden" name="messa_sicurezza_operativa" value="No">
      <input type="hidden" name="messa_sicurezza_permanente" value="No">
      <input type="hidden" name="bonifica" value="No"> 
      <input type="hidden" name="bonifica_sicurezza" value="No">

      <div class="checkboxes responsive-grid">
          <div>
          <label for="messa_sicurezza_emergenza">Messa in sicurezza d'emergenza</label>
          <input type="checkbox" name="messa_sicurezza_emergenza" value="Si">
        </div>
        <div>
          <label for="messa_sicurezza_operativa">Messa in sicurezza operativa</label>
          <input type="checkbox" name="messa_sicurezza_operativa" value="Si">
        </div>
        <div>
          <label for="messa_sicurezza_permanente">Messa in sicurezza permanente</label>
          <input type="checkbox" name="messa_sicurezza_permanente" value="Si">
        </div>
        <div>
          <label for="bonifica">Bonifica e ripristino ambientale</label>
          <input type="checkbox" name="bonifica" value="Si"> 
        </div>
        <div>
          <label for="bonifica_sicurezza">Bonifica con misure di sicurezza</label>
          <input type="checkbox" name="bonifica_sicurezza" value="Si">
      </div>
      </div>

      <div class="flex-clmn">
        <label for="procedura">Procedura:</label>
        <input type="text" name="procedura" placeholder="Procedura" required>
      </div>
      <div class="flex-clmn">
        <label for="note">Note:</label>
        <input type="text" name="note" placeholder="Note"> 
      </div>
      <button type="submit" style="margin-top: 1.5rem;">Invia</button>
    </form>
  </section>

  <section id="infopanel">
    <button class="chiudi" onclick="mostraSezione('default')">X</button>
    <h3>Informazioni aggiuntive:</h3>
    <div class="card">
      <div>
       <b>Messa in sicurezza emergenza:</b><span></span>
      </div>
      <div>
       <b>Messa in sicurezza operativa:</b><span></span>
      </div>
      <div>
       <b>Messa in sicurezza permanente:</b><span></span>
      </div>
      <div>
       <b>Bonifica:</b><span></span>
      </div>
      <div>
       <b>Bonifica sicurezza:</b><span></span>
      </div>
      <div>
       <b>Procedure:</b><span></span>
      </div>
      <div>
       <b>Note:</b><span></span>
      </div>
    </div>
    <button type="button" class="mt-1-5 modify-btn">Modifica</button>
    <button type="button" class="mt-1-5 delete-btn">Elimina</button>
  </section>

  <section id="modificaSito">
    <button class="chiudi" onclick="mostraSezione('default')">X</button>
    <h3>Modifica informazioni sito:</h3>
    <form class="card flex-clmn">
      <input type="hidden" name="messa_sicurezza_emergenza" value="No">
      <input type="hidden" name="messa_sicurezza_operativa" value="No">
      <input type="hidden" name="messa_sicurezza_permanente" value="No">
      <input type="hidden" name="bonifica" value="No"> 
      <input type="hidden" name="bonifica_sicurezza" value="No">

      <div class="flex-clmn">
        <label for="messa_sicurezza_emergenza">Messa in sicurezza d'emergenza</label>
        <input type="checkbox" id="check-messa_sicurezza_emergenza" value="Si">
      </div>
      <div class="flex-clmn">
        <label for="messa_sicurezza_operativa">Messa in sicurezza operativa</label>
        <input type="checkbox" id="check-messa_sicurezza_operativa" value="Si">
      </div>
      <div class="flex-clmn">
        <label for="messa_sicurezza_permanente">Messa in sicurezza permanente</label>
        <input type="checkbox" id="check-messa_sicurezza_permanente" value="Si"><br>
      </div>
      <div class="flex-clmn">
        <label for="bonifica">Bonifica e ripristino ambientale</label>
        <input type="checkbox" id="check-bonifica" value="Si"> 
      </div>
      <div class="flex-clmn">
        <label for="bonifica_sicurezza">Bonifica e ripristino ambientale con misure di sicurezza</label>
        <input type="checkbox" id="check-bonifica_sicurezza" value="Si"><br>
      </div>
      <div class="flex-clmn">
        <label for="procedura">Procedura:</label>
        <input type="text" name="procedura" placeholder="Procedura"><br>
      </div>
      <div class="flex-clmn">
        <label for="note">Note:</label>
        <input type="text" name="note" placeholder="Note"><br> 
      </div>
      <button type="submit">Invia</button>
    </form>
  </section>

  <div id="map"></div>

  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
  <script src="api.js"></script>
  <script src="ui.js"></script>
</body>
</html>
